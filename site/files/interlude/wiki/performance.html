<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
		<title>Performance - Interlude Wiki</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet"/>
    <link href="../../style.css" rel="stylesheet"/>
    <link rel="icon" type="image/x-icon" href="../../favicon.png"/>
  </head>
  <body class="background-2 akrobat flex flex-row">
		<div class="flex flex-col h-screen w-full justify-between">
      
      <div class="mx-4">
        <!-- content -->
        <div class="w-full p-10 space-y-8">
          <div class="frame text-2xl container flex flex-col mx-auto p-4"><h1 class="text-3xl">Performance</h1><p class="leading-8 mb-4">VSRGs are a genre of game where <strong>performance truly matters</strong>.<br/>Frame drops and stutters can be disorienting, so can a delay between when you press a key and its impact on your monitor.</p><p class="leading-8 mb-4">This page aims to explain what settings Interlude provides for performance and how they work, so you can decide what works best on your hardware.</p><h3 class="text-3xl">Short summary for the busy reader</h3><p class="leading-8 mb-4">For the average user, I recommend using the 'Smart' frame limit.<br/>Fullscreen is recommended, but input latency is constant and can be compensated for with Visual Offset in windowed modes.<br/>Higher refresh rate monitors are better and have lower latency.</p><p class="leading-8 mb-4">You can see some information about performance and frame times by pressing <code>CTRL+SHIFT+ALT+F3</code> ingame.<br/><code>CTRL+SHIFT+ALT+F4</code> hides/shows the frame time graph, since the graph lowers your framerate :)</p><p class="leading-8 mb-4">Now check out below if you want to know more about how the engine works!</p></div><div class="frame text-2xl container flex flex-col mx-auto p-4"><h1 class="text-3xl">Introduction</h1><p class="leading-8 mb-4">Outline of some background knowledge and key terms used further down in this guide.</p><h2 class="text-3xl">Fullscreen vs Windowed</h2><p class="leading-8 mb-4">The game renders "frames" - These are single images that your monitor cycles through to show the game in motion.<br/>"<strong>frames per second</strong>" refers to how many frames, on average, the game outputs per second.</p><p class="leading-8 mb-4">Your monitor has a refresh rate - This is how many "frames" the monitor can switch through per second, for example a 60hz monitor can display a new frame every 60th of a second, or 16.666 milliseconds.<br/>The monitor "scans" these frames in line by line, from top to bottom (this can only be seen with a slow motion camera), and will happily switch frame mid-scan if it receives a new one.</p><p class="leading-8 mb-4">In (borderless) windowed mode, Window's window manager will wait until the monitor starts its next "scan", and then send the latest frame the game rendered to the monitor.
This waiting technique, known as VSync, means a frame but only gets shown when the monitor is next ready for another frame.
This introduces <strong>visual latency</strong> between what the game has rendered and what shows on your monitor!<br/>In exchange for this delay, the monitor never changes frame midway through scanning in the last frame it was sent, so you cannot see <strong>screen tearing</strong> while in windowed modes.</p><p class="leading-8 mb-4">In fullscreen, the game takes full control of your monitor and can directly send rendered frames to it.
This means the monitor can receive a new frame while it is halfway through switching to the previous one.<br/>This causes <strong>screen tearing</strong> where one part of the screen is an older frame, while the rest of the screen lower down is a newer frame.</p><p class="leading-8 mb-4">Either way you open yourself up to possible issues that may hamper your smooth and enjoyable game experience.<br/>To mitigate these issues, Interlude has a 'Smart' frame limiter mode, but you can also uncap your framerate if you know hardware/driver settings that work better for you.</p><h2 class="text-3xl">Keyboard input</h2><p class="leading-8 mb-4">Interlude checks for keyboard inputs as fast as possible in a background thread.<br/>Because of this, keyboard input in Interlude is <strong>almost entirely unrelated</strong> to your frame rate, and low frame rate does not mean the game polls your inputs slower.</p><p class="leading-8 mb-4">Your keyboard should poll at 1000hz - If your keyboard goes higher that's a nice bonus but won't make a real difference.<br/>Your keyboard should NOT poll at 125hz - That is too slow and will lead to your taps being measured inaccurately!</p><p class="leading-8 mb-4"><a class="underline" href="https://www.youtube.com/watch?v=heZVmr9fyng">This video</a> has some good info on the topic, including how to tell if you're on 125hz.</p><p class="leading-8 mb-4">All in all as long as your keyboard polls at 1000hz (most gaming keyboards) you're good to go.</p><p class="leading-8 mb-4">Often players will report render settings as causing "input lag" or "input latency", but this is not to do with your keyboard or how the game registers inputs.<br/>Normally, what is actually happening is <strong>visual latency</strong> from displaying frames that were rendered a few milliseconds ago - Your monitor is not yet showing the effect your keyboard input has had!</p></div><div class="frame text-2xl container flex flex-col mx-auto p-4"><h2 class="text-3xl">'Smart' frame limit</h2><p class="leading-8 mb-4">This mode caps Interlude's framerate to your monitor's refresh rate.<br/>A frame cap on its own is not suitable, because small timing errors mean frames will not perfectly line up with your monitor's refresh cycle.</p><p class="leading-8 mb-4">In windowed mode, if frames don't line up with your monitor's refresh rate:</p><ul><li class="ml-8 list-disc">The delay between when a frame gets rendered and when it ends up on your monitor will drift over time, making it feel like your visual offset is changing over time</li><li class="ml-8 list-disc">If the frame cap is slightly too slow, a frame will periodically be displayed for twice as long</li><li class="ml-8 list-disc">If the frame cap is slightly too fast, a frame will periodically be skipped because another frame arrives before it is used</li></ul><p class="leading-8 mb-4">In fullscreen mode, frames need to arrive right about when the monitor renders a new frame or the you will get <strong>screen tearing</strong>.</p><p class="leading-8 mb-4">Smart frame limit aims to compensate for these issues by:</p><ul><li class="ml-8 list-disc">In fullscreen, making timing adjustments every frame to ensure the "tear line" is very close to the top/bottom of your monitor where you can't see it.
This results in low latency, smooth rendering with occasional visual artifact if the "tear line" moves!</li><li class="ml-8 list-disc">In windowed mode, making timing adjustments every frame so that the visual delay is a consistent value</li><li class="ml-8 list-disc">In both modes, making <strong>anti-jitter</strong> render adjustments every frame which makes notes look smoother</li></ul><p class="leading-8 mb-4">I'm quite pleased with the achievements of the 'Smart' frame limit, but if you're a game developer or have deeper knowledge about this kind of thing then suggestions are always very much welcome.</p></div><div class="frame text-2xl container flex flex-col mx-auto p-4"><h2 class="text-3xl">Unlimited frame limit</h2><p class="leading-8 mb-4">This mode uncaps Interlude's framerate.<br/>The game will render as many frames as it can, as fast as possible.</p><p class="leading-8 mb-4">In windowed mode, when the monitor is ready to refresh, it will draw the most recent frame it received from the game.<br/>For example, if the game is running at 1000fps, the most recent frame will be generated in the last 1ms, and so will be at most 1ms old when it appears on your monitor.<br/><strong>This is currently the best way I know to reduce input latency</strong>, but I still recommend 'Smart' frame limit because:</p><ul><li class="ml-8 list-disc">Frames can take varying time to render, which also means the information in a frame can be slightly older or newer by 1-2ms
This causes <strong>jitter</strong> where notes do not look like they are scrolling perfectly smoothly, even though all other metrics say you are getting the right framerate!</li><li class="ml-8 list-disc">The age of the completed frame you see will vary between 0-1ms old when displayed on the monitor, also causing frame <strong>jitter</strong></li><li class="ml-8 list-disc">Unlimited frame cap can be very power intense!</li><li class="ml-8 list-disc">You will get constant, random screen tearing in fullscreen mode</li><li class="ml-8 list-disc">The visual latency caused by 'Smart' frame limit is constant, predictable, and can be compensated for with the Visual Offset setting.</li></ul><p class="leading-8 mb-4">For some hardware/system optimisation nerds you may be able to get good use out of Unlimited frame cap if you have better ways around these issues than 'Smart' cap does.<br/>Some experimentation needed if you want to try this.</p><h3 class="text-3xl">Reducing jitter</h3><p class="leading-8 mb-4">The main source of jitter is frames taking different times to render.<br/>This can be reduced by running fewer other programs and background tasks while Interlude is open.</p><p class="leading-8 mb-4">If you've ever tried to optimise your system for other competitive games such as Counter-Strike, you probably know how to do this.<br/>If not, those kind of guides are a good place to find information.</p><h3 class="text-3xl">Reducing power usage</h3><p class="leading-8 mb-4">I highly recommend applying a frame cap to Interlude at the graphics driver-level, especially if you have a powerful machine that can render way above 1000 frames per second.<br/>Most of you will be using an NVIDIA graphics card - In NVIDIA control panel you can directly set a frame cap on Interlude.exe under Manage 3D settings &gt; Program settings.</p><h3 class="text-3xl">Reducing screen tearing (in Fullscreen)</h3><p class="leading-8 mb-4">I don't know a way to do this - The tearing you get is in exchange for low visual latency.<br/>Your monitor or graphics drivers may have some special settings or modes that can help with this!</p><p class="leading-8 mb-4">Remember that VSync will introduce some visual latency, in which case you may get better results by using 'Smart' frame limit instead.</p></div><div class="frame text-2xl container flex flex-col mx-auto p-4"><h2 class="text-3xl">Streaming or recording the game</h2><p class="leading-8 mb-4">You're probably using OBS.</p><p class="leading-8 mb-4">OBS captures frames directly from the game so it doesn't see the exact same thing the monitor sees.<br/>Because of this and how the game tries to sync with your monitor, you may see stuttering or glitching in your recorded video that you don't see on your monitor.</p><p class="leading-8 mb-4">I'm still looking into this and don't want to offer any misinformation, but what works for me is:</p><ul><li class="ml-8 list-disc">Smart frame limit</li><li class="ml-8 list-disc">Borderless windowed mode</li><li class="ml-8 list-disc">In OBS, use a 'Display Capture' instead of a 'Game Capture'</li><li class="ml-8 list-disc">In OBS, right-click on the stream preview and <em>disable it</em></li><li class="ml-8 list-disc">I also ran OBS with high system priority, in admin mode, but try without this step first</li></ul><p class="leading-8 mb-4">With those settings I was able to record/stream perfectly smooth 60fps gameplay on my 60hz monitor without visual artifacts.</p></div>
        </div>
      </div>
			
			<!-- footer -->
			<footer class="footer text-2xl px-4 flex flex-col lg:flex-row items-center justify-center gap-x-5">
			  <span>© Percyqaz 2018-2024</span>
			  <div></div>
	          <a href="../../index.html">Home</a>
			  <a href="../changelog.html">Changelog</a>
			  <a href="index.html">Wiki</a>
			  <div class="py-2"></div>
			  <a href="../../terms_of_service.html">Terms</a>
			  <a href="../../privacy_policy.html">Privacy</a>
			  <a href="mailto:dmca@yavsrg.net">DMCA</a>
			</footer>

		</div>
  </body>
</html>